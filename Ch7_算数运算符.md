# Ch.7 算数表达式

算数表达式：`((...))`语法可以进行整数算数运算。非整数运算报错。`Bash`自动忽略内部的空格。表达式支持嵌套结构。

```bash
>>> echo $((1 + 1))
2

>>> echo $(1+1)
2

>>> echo $((1.5 + 1))
-bash: 1.5 + 1: syntax error: invalid arithmetic operator (error token is ".5 + 1")

>>> echo $(($((5**2)) * 3))
75
```

语法不返回计算结果，通过`$?`命令可查看算术表达式计算结果是否错误，或计算结果是否为零的布尔值。

```bash
>>> ((1 + 1 == 2)); echo $?
0

>>> ((1 - 1 == 3)); echo $?
1

>>> ((1 - 1)); echo $?
1

>>> ((1 + 1)); echo $?
0
```

算数运算符：

- `+`：加法
- `-`：减法
- `*`：乘法
- `/`：除法（整除）
- `%`：余数
- `**`：指数
- `++`：自增运算（前缀或后缀）
- `--`：自减运算（前缀或后缀）
- `(...)`：改变运算优先级

`Bash`自动将表达式内的字符串当作变量解释，不需要使用美元符号`$`。空变量会被当成`0`解释。

```bash
>>> number=1; echo $((number + 1))
2

>>> number=1; echo $(($number + 1))
2

>>> number=; echo $((number + 1))
1

>>> var=; number=var; echo $((number + 1))
1
```

----------------

数值的进制：`Bash`默认十进制，可通过以下语法使用其他进制。

- `number`：没有任何特殊表示法的数字是十进制数（以10为底）。
- `0number`：八进制数。
- `0xnumber`：十六进制数。
- `base#number`：`base`进制的数。

```bash
>>> echo $((0xff))
255

>>> echo $((2#11111111))
255
```

-------------------------

位运算

---------------------------

逻辑运算

---------------------

赋值运算

---------------

求职运算

-----------------

`expr`命令

-----------------------

`let`命令

